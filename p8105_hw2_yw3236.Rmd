---
title: "p8105_hw2_yw3236"
output: github_document
author: "Yishan Wang"
date: 2018-10-01
---

# Problem 1

```{r set up library, include = FALSE}
library(tidyverse)
```

### Read and clean the data 
* Retain line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance.

* Convert the entry variable from character (`YES` vs `NO`) to a logical variable.

```{r import and clean data}
transit_data = 
  read_csv(file = "./NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(., "line", "station_name", "station_latitude", "station_longitude", "route1":"route11", "entry", "vending", "entrance_type", "ada") %>%
  mutate(., entry = recode(entry, YES = TRUE, NO = FALSE))
```

### A short paragraph about this dataset 
The variables that dataset contains are `line`, `station_name`, `station_latitude`, `station_longitude`, `rout1` to `rout11`, `entry`, `vending`, `entrence_type`, `ada`. After reading the dataset to R, I used `janitor::clean_names()` to clean the variable names. Then I used `select` to selecte the variables that I want to keep in the dataset and delete other unwanted variables. Lastly, I used `mutate` and `recode` to convert the `entry` from character variable to logical variable. The dimension of the resulting dataset is 1868 x 19. Yes, the data are tidy.

### Answering the questons

```{r}
nrow(distinct(transit_data, line, station_name))
```

The number of the distinct stations are `r nrow(distinct(transit_data, line, station_name))`.

```{r}
station_ada = 
  distinct(transit_data, line, station_name, .keep_all = TRUE) %>%
  dplyr::filter(., ada == TRUE)
nrow(station_ada)
```

There are `r nrow(station_ada)` stations that are ADA compliant.

```{r}
vending_no = transit_data %>%
  dplyr::filter(., vending == 'NO')

prop = nrow(dplyr::filter(vending_no, entry == TRUE)) / nrow(vending_no)
prop
```

The proportion of station entrances / exists without vending allow entrance is `r prop`.
